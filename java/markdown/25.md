+ [author](https://github.com/3293172751)
+ <a href="https://github.com/3293172751" target="_blank"><img src="https://img.shields.io/badge/Github-xiongxinwei-inactive?style=social&logo=github"></a></p>
# 第25节 maven
+ [回到目录](../README.md)
+ [回到项目首页](../../README.md)
+ [上一节](24.md)
> ❤️💕💕java的学习指南,从入门到大师篇章。Myblog:[http://nsddd.top](http://nsddd.top/)
---
[TOC]

## maven

Maven是一个Java项目管理和构建工具，它可以定义项目结构、项目依赖，并使用统一的方式进行自动化构建，是Java项目不可缺少的工具。

Maven就是是专门为Java项目打造的管理和构建工具，它的主要功能有：

- **提供了一套标准化的项目结构；**
  - 不同的ide项目结构不一样，就会导致无法导入到其他的ide
- **提供了一套标准化的构建流程（编译，测试，打包，发布……）；**
- **提供了一套依赖管理机制。**
  - 依赖管理就是管理你项目中所依赖的第三方资源（jar包、插件）



**Maven是一个Java项目的管理和构建工具：**

- Maven使用`pom.xml`定义项目内容，并使用预设的目录结构；
- 在Maven中声明一个依赖项可以自动下载并导入classpath；
- Maven使用`groupId`，`artifactId`和`version`唯一定位一个依赖。



### Maven项目结构

一个使用Maven管理的普通的Java项目，它的目录结构默认如下：

```bash
a-maven-project	 # 项目名称，自己取   
├── pom.xml		# 配置文件，对核心配置文件
├── src		    # 存放代码
│   ├── main	# 存放源代码
│   │   ├── java		# 存放java源代码
│   │   └── resources	 # 源代码的配置文件目录
│   │   └── webapp	 	 # web项目所需要的目录 -- 可以选择不要
│   └── test	# 存放测试代码
│       ├── java		# 存放java测试源代码
│       └── resources	 # 测试代码的配置文件目录
└── target				# 所有编译、打包生成的文件都放在target目录里
```

项目的根目录`a-maven-project`是项目名，它有一个项目描述文件`pom.xml`，存放Java源码的目录是`src/main/java`，存放资源文件的目录是`src/main/resources`，存放测试源码的目录是`src/test/java`，存放测试资源的目录是`src/test/resources`，最后，所有编译、打包生成的文件都放在`target`目录里。这些就是一个Maven项目的标准目录结构。



## pom.xml

我们再来看最关键的一个项目描述文件`pom.xml`，它的内容长得像下面：

```xml
<project ...>
	<modelVersion>4.0.0</modelVersion>
	<groupId>com.itranswarp.learnjava</groupId>
	<artifactId>hello</artifactId>
	<version>1.0</version>
	<packaging>jar</packaging>
	<properties>
        ...
	</properties>
	<dependencies>
        <dependency>
            <groupId>commons-logging</groupId>
            <artifactId>commons-logging</artifactId>
            <version>1.2</version>
        </dependency>
	</dependencies>
</project>
```

其中，`groupId`类似于Java的包名，通常是公司或组织名称，`artifactId`类似于Java的类名，通常是项目名称，再加上`version`，一个Maven工程就是由`groupId`，`artifactId`和`version`作为唯一标识。我们在引用其他第三方库的时候，也是通过这3个变量确定。例如，依赖`commons-logging`：

```xml
<dependency>
    <groupId>commons-logging</groupId>
    <artifactId>commons-logging</artifactId>
    <version>1.2</version>
</dependency>
```

使用`<dependency>`声明一个依赖后，Maven就会自动下载这个依赖包并把它放到classpath中。



## maven安装

要安装Maven，可以从[Maven官网](https://maven.apache.org/)下载最新的Maven 3.6.x，然后在本地解压，设置几个环境变量：

**我们也可使用docker安装maven，使用docker管理还是很方便的**

```
docker search --limit 4 maven      
docker run -d -p 8081:8081 -p 8082:8082 -p 8083:8083 --name maven -v D:\docker\maven\:/nexus-data --restart=always sonatype/nexus3
docker ps
docker exec -it maven /bin/bash
docker logs maven
```

**接下来可以访问http://localhost:8081/**

````
```
http://127.0.0.1:8081/
user：admin
passwd：admin123
```
````

![image-20220920175001106](https://sm.nsddd.top//typora/image-20220920175001106.png?mail:3293172751@qq.com)



**或者选择官网下载：**

```
M2_HOME=/path/to/maven-3.6.x
PATH=$PATH:$M2_HOME/bin
```

Windows可以把`%M2_HOME%\bin`添加到系统Path变量中。

然后，打开命令行窗口，输入`mvn -version`，应该看到Maven的版本信息：

```ascii
┌────────────────────────────────────────────────────────┐
│Command Prompt                                    - □ x │
├────────────────────────────────────────────────────────┤
│Microsoft Windows [Version 10.0.0]                      │
│(c) 2015 Microsoft Corporation. All rights reserved.    │
│                                                        │
│C:\> mvn -version                                       │
│Apache Maven 3.6.0 (97c98ec64a1fdfee7767ce5ffb20918...) │
│Maven home: C:\Users\liaoxuefeng\maven                  │
│Java version: ...                                       │
│...                                                     │
│C:\> _                                                  │
│                                                        │
│                                          
```



## maven仓库

**maven有三种仓库：**

+ 本地仓库：存放本地的jap包
+ 中央仓库：maven团队维护全球唯一
+ 远程仓库：一般由公司团队搭建的私有仓库



**引入包**

> 下载jap包的时候，我们是在`pom.xml`写下包，然后maven在本地查看有没有包，如果没有到远程拉下来放到本地仓库。





## END 链接

+ [回到目录](../README.md)
+ [上一节](24.md)
+ [下一节](26.md)
---
+ [参与贡献❤️💕💕](https://github.com/3293172751/Block_Chain/blob/master/Git/git-contributor.md)