+ [author](https://github.com/3293172751)

# 第1节 数据库基础

+ [回到目录](../README.md)
+ [回到项目首页](../../README.md)
> ❤️💕💕数据库的高级指南，如何在 MySQL、SQL Server、MS Access、Oracle、Sybase、Informix、Postgres 和其他数据库系统中使用 SQL，如何从头实现一个数据库系统，我们开始吧！Myblog:[http://nsddd.top](http://nsddd.top/)
---
[TOC]

## 数据库系统基本概念：

1.   #### 信息与数据

     + 数据不仅仅是数值，可以是文字、图像、动画、声音、视频等等，上篇在http://nsddd.top/index.php/2021/12/17/nftgongyi/中介绍到，数据也是可以进行加密NFT。

     + 信息与数据有联系也有区别，在数据库领域，通常处理的像学生信息这样的数据，它是有结构的，称之为`结构化数据`。

     + **关系**：数据是信息的载体，信息是数据的内涵。即数据是信息的符号表示，而信息通过数据描述，又是数据语义的解释。

2.   **数据库**

     + 数据库（DB）是按照一定的存储结构组织并且长期存储在计算机内部，可以大量共享的数据集合。

     + 数据库（DB）包括数据库管理系统（DBMS）

     + 特点：**可共享，有组织，永久存储**

3.   **数据库管理系统**

     安装于操作系统上，是一种管理、控制数据库中各种数据库对象的**系统软件**（DBMS）

4.   **数据库系统**

     数据库系统（DBS）是指计算机引入数据库后的系统，它能够有组织、动态的存储大量的数据，提供数据的处理和数据的共享机制。

     组成：

     *   硬件系统
     *   软件系统
     *   数据库（DB） 
         *   包含数据库管理系统（DBMS）
     *   人员（DBA）

5.   **信息系统**

     信息系统（IS）具有对信息进行加工处理、存储、传递，同时有预测、控制和决策等功能



## 数据管理技术的发展

### 人工管理

​	初始阶段，数据的独立性差，应用程序提供保护。

### 文件系统

​	物理独立性好，逻辑独立性差，文件系统提供保护。

### 数据库系统

​	共享性好，冗余度小，由DBMS提供完善的安全保护



### DBMS提供数据控制

1.   数据的安全性保护
2.   数据的完整性检查
3.   并发控制（事务，锁）
4.   数据库恢复（回滚）



## 数据库结构❤️❤️❤️

1.   **模式（Schema**）

     模式是数据库中全体数据的逻辑结构特征的描述，是所有用户公用数据库结构

2.   **外模式（External Schema)**

     外模式（也称子模式或者用户模式） 是数据库用户所见和使用的局部数据的逻辑结构和特征的描述

     外模式是模式的子集，它主要描述用户**视图**各记录的组成、相互联系、数据项

3.   **内模式（Internal Schema）**

     内模式（也成为存储模式）是数据物理结构和存储方法的描述。它是整个数据库最底层结构的表示。

     如存储方式：哈希方法存储

     一个数据库只有一个内模式，内模式对用户透明

![img](https://sm.nsddd.top//typora/gKsvX3hTN5CPq8R.jpg?mail:3293172751@qq.com)

### 数据库独立性与二级映射功能

1.   **外模式/模式映射：**
2.   **内模式/模式映射：**



### 数据库体系结构

1.   客户/服务器结构（C/S）
2.   浏览器/服务器（B/S）



### 小结

1.   数据库存储的是：数据以及数据之间的联系
2.   控制数据满足一定的约束条件，这属于完整性
3.   数据的独立性是指：物理独立性和逻辑独立
4.   数据库系统属于结构化存储





## 信息与数据模型

### 信息的三种世界：

1.   现实世界
2.   信息世界
3.   计算机世界（数据世界）



### 数据模型：

 -	数据处理三层抽象描述
   1.   概念层
   2.   逻辑层
   3.   物理层
 -	数据模型要素
   1.   数据结构
   2.   数据操作
   3.   数据的完整性约束条件

### 概念模型

 	1. 实体
 	2. 属性
 	3. 实体型
 	4. 实体集
 	5. 码
 	6. 域
 	7. 联系
 	 	1. 一对一
 	 	2. 一对多（1：n)
 	 	3. 多对多 （n：m)



### 从项目：高校学生学籍管理系统分析：

![image-20211218145847792](https://s2.loli.net/2021/12/18/9LszDXUyPQa63Ci.png)

**实体与联系**

-  **实体** **（属性）**
-  院系  ( **院系号**、院系名、院长名) ；
- 专业  (**专业号**、专业名) ；
- 学生  (**学号**、姓名、性别、出生日期、联系电话、入学时间)；
- 教师  (**教工号**、姓名、性别、职称、院系号、联系电话)；
- 课程（**课程号**、课程名、学时、学分、上课时间，上课教室)；
- 选课（**学号**、**课程号**、成绩)。
- 用户（用户，密码）
- 奖惩情况（学号，奖励，惩罚）
- 教师授课（教工号，课程号）



**实体间的联系情况与转换规则：**

- 院系与教师的联系是工作 对应的联系情况是一对多；
- 教师与课程的联系是授课 对应的联系情况是多对多；
- 学生与专业的联系是属于 对应的联系情况是一对多；
- 学生与选课的联系是报课情况，对应的关系是多对多；



### 部分ER图

![image-20211218150349738](https://sm.nsddd.top//typora/Dgtrd4YEwqBSfbh.png?mail:3293172751@qq.com)



### 全局ER图

![image-20211218150446655](https://sm.nsddd.top//typora/sv8xOucCtWbARMg.png?mail:3293172751@qq.com)



### 概念模型向逻辑模型的转化（有点烦）

1.   **1：1联系转化：**

     将1：1联系转化为独立的关系模式

2.   **1:n转化**：

     转换为一个独立的管理模式，与该联系相连的各实体的码以及联系本身的属性均转化为关系模式的属性。

3.   **n:n转化：**

​		需要将联系单独转化为一个独立的关系模式，与该联系相连的各实体的码以及联系本身的属性均转化为关系模式的属性，每个实体的码组成关系模式的码或关系模式码的一部分。



### 关系模型

#### 关系模型简述

关系模型就是处理TABLE,它由三部分组成：

1.   描述**DB**各种数据的基本结构形式**(Table/Relation)** 
2.   描述**Table**与**Table**之间所可能发生的各种操作**(**关系运算**)**
3.   描述这些操作所应遵循的约束条件**(**完整性约束**)**



### 关系模型的三个要素

​	**完整性约束**： 实体完整性、参照完整性和用户自定义的完整性

#### 实体完整性

**关系的主码中的属性值不能为空值；** 

**空值**：不知道或无意义的值； 

**意义**：关系中的元组对应到现实世界相互之间可区分的一个个个 体，这些个体是通过主码来唯一标识的；若主码为空，则出现不可标识 的个体，这是不容许的。

### 参照完整性

如果关系**R1**的外码**Fk**与关系**R2**的主 码**Pk**相对应，则**R1**中的每一个元组的 **Fk**值或者等于**R2** 中某个元组的**Pk** 值， 或者为空值 

**意义**：如果关系**R1**的某个元组**t1**参照 了关系**R2**的某个元组**t2**，则**t2**必须存在 



### 关系操作

关系操作包括**数据查询、数据维护、数据控制**

#### 关系操作语言

1.   **关系代数语言**
2.   **关系演算语言**
3.   **具有关系代数和关系演算双重特点的语言**



### 小结

1.   数据库概念模型中，设计人员依据的是**关系模型**编写程序
2.   A和B两个实体的联系类型：m:n，则ER图转化为关系模型关系模式数量是：3
3.   转为关系模式时候，实体和联系都可以表示为属性
4.   联系用菱形表示，实体用方块表示
5.   域的含义是属性的取值范围



## 关系代数和关系数据库理论

### 关系型数据库

**关系数据库是建立在关系模型的基础上的数据库，简单说，关系型数据库由多张可以相互连接的二维表组成的数据库**

+ 优点：
  + 数据使用表结构，格式一致性，易于维护
  + 使用通用的SQL语言操作，使用方便，可用于复杂查询
  + 数据存储在磁盘中，安全



### 关系代数

关系代数通过符号化的语言，来描述数据库的行为关系，相当于简化版的 SQL。比如并，交，差，笛卡尔积，除法，select 语句等等。

SQL 则是结构化查询语句，相比于关系代数，更方便被计算机识别的一种查询语言。



**交，并，差，笛卡尔积等符号，和数学上的符号完全一致，只是运算的单位不是集合而是表。**

交运算取两张表相同的字段。并运算类似，也是合并相同的字段，同时加入不相同的字段：

![在这里插入图片描述](https://sm.nsddd.top//typora/sO3QwoBNLlVJXuf.png?mail:3293172751@qq.com)

差运算则是减去两者的交集。笛卡尔积则组合任意的属性：

![在这里插入图片描述](https://sm.nsddd.top//typora/QJO85GeYouKdBE4.png?mail:3293172751@qq.com)

**选择语句**
关系代数中用符号 σ（西格玛，sigma）来描述选择语句。此外我们可以在 select 的同时，添加限制条件

**投影语句**
在关系代数中的投影语句相当于 SQL 中的字段筛选，可以选择特定的字段进行查询


**连接语句**
关于连接的 SQL 版本，可以看我之前的博客：MySQL 连接（JOIN）使用 简单讲解与示例

关系代数版本的连接语句如下，假设有两张表 R 和 S，通过某些条件把他们进行连接，用 ∞ 号表示连接

一般连接中都认为连接条件是带有等号的（比如外键），这种连接叫做等号连接。通常可以省略连接条件。能够省略的又称为 “自然连接” （natural join）

外连接则是在内连接的基础上，为无法匹配的记录 添加空行 ：



**除法（重要🆘）**
除法是乘法（笛卡尔积 ）的逆运算，值得注意的是，**关系代数中除法只为整除**。

只有当除表的所有记录，在被除表中全部命中时，才认为发生了整除。如下图，当 A 表中某几条记录完全被 B 完成命中时，才认为发生整除，其他部分都不算整除。

下图颜色三个除法例子。可以用 A÷B 再 × B，就能得到下图的颜色标记部分：

![在这里插入图片描述](https://sm.nsddd.top//typora/QqIAwBjDUSHptK5.png?mail:3293172751@qq.com)

除法常用作选取带有 ALL 字眼的题目，比如选取选了所有课程的学生，那么用课程表去（course）除选课记录表（SC），就能得有选了所有课程的学生：


![在这里插入图片描述](https://sm.nsddd.top//typora/oaVZqF67weyYJIc.png?mail:3293172751@qq.com)





### 函数依赖

在数据依赖中，函数依赖是最基本、最重要的依赖，给定一个属性的值，就可以确定到另一个属性的值。

>   1：1 依赖
>
>   1：n依赖
>
>   m：n不依赖

1.   **函数依赖**
2.   **多值依赖**
3.   **连接依赖**、



### 依赖类型

如果`X -> Y`，但是Y不属于X，则X -> Y是🤺**非平凡依赖**，否则，是**平凡依赖**

由此可见，主要是非平凡依赖





## END 链接

+ [回到目录](../README.md)
+ [下一节](2.md)
---
+ [**参与贡献❤️💕💕**](https://nsddd.top/archives/contributors))